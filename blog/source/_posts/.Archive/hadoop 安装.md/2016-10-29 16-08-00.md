---
title: hadoop 安装
date: 2016-10-29 11:25:31
tags: [hadoop,hbase]
categories: [技术积累]
---

## **环境**
cento7 + hadoop2.6 + JDK1.8
## **准备工作**
- **创建hadoop用户**
``` shell
# su hadoop
# useradd -m hadoop -s /bin/bash   #创建新用户hadoop
# passwd hadoop    #创建密码
# vim /etc/sudoers  #赋予管理员权限
```
 找到 root ALL=(ALL) ALL 这行
 然后在这行下面增加一行内容：hadoop ALL=(ALL) ALL
![](http://oflrm5g9z.bkt.clouddn.com/Image%201.png)
- **JAVA环境配置**
- **安装SSH、配置SSH无密码登陆**
``` shell
$ rpm -qa | grep ssh
```
![](http://oflrm5g9z.bkt.clouddn.com/Image%202.png)
返回结果如上图，则说明已经安装了ssh,不需要安装，否则需要通过yum进行安装。
```  shell
$ sudo yum install openssh-clients
$ sudo yum install openssh-server
```
然后配置SSH无密码登陆
``` shell
$ cd ~/.ssh/                     # 若没有该目录，请先执行一次ssh localhost
$ ssh-keygen -t rsa              # 会有提示，都按回车就可以
$ cat id_rsa.pub >> authorized_keys  # 加入授权
$ chmod 600 ./authorized_keys    # 修改文件权限
```
执行如下命令测试一下 SSH 是否可用：
``` shell
$ ssh localhost
```
无需输入密码就可以直接登陆了。

## **安装Haoop2.6**
- 下载hadoop-2.6.0.tar.gz包
- 解压并修改文件权限
``` shell
$ sudo tar -zxf ~/下载/hadoop-2.6.0.tar.gz -C /usr/local    # 解压到/usr/local中
$ cd /usr/local/
$ sudo ln -s hadoop-2.6.0 hadoop            # 创建hadoop软连接
$ sudo chown -R hadoop:hadoop ./hadoop        # 修改文件权限
```
- **配置环境变量**
``` shell
$ sudo vim /etc/profile
```
添加如下内容
``` vim 
# hadoop Env
export HADOOP_HOME=/usr/local/hadoop
export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
```
- **测试hadoop是否可用**
``` shell
[hadoop@osd01 root]$ hadoop version
Hadoop 2.6.0
Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r e3496499ecb8d220fba99dc5ed4c99c8f9e33bb1
Compiled by jenkins on 2014-11-13T21:10Z
Compiled with protoc 2.5.0
From source with checksum 18e43357c8f927c0695f1e9522859d6a
This command was run using /usr/local/hadoop-2.6.0/share/hadoop/common/hadoop-common-2.6.0.jar
```
成功则会显示 如上的Hadoop 版本信息

[参考链接](http://www.powerxing.com/install-hadoop-in-centos/)

